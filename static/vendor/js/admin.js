function getBlogList(){$.ajax({url:"/list/articals",type:"GET",dataType:"JSON",data:{},success:function(t){if("000000"==t.code){for(var e=t.data,o="",n=0,l=e.length;n<l;n++)o+="<tr><td>"+e[n].title+"</td><td>"+e[n].type+"</td><td>"+e[n].create_time+"</td><td>"+e[n].update_time+'</td><td><span blog-put="'+e[n].id+'">编辑</span><span blog-del='+e[n].id+" >删除</span></td></tr>";document.getElementById("blog-list").innerHTML=o;for(var d=document.querySelectorAll("[blog-del]"),a=document.querySelectorAll("[blog-put]"),n=0,l=d.length;n<l;n++)d[n].onclick=del;for(var n=0,l=a.length;n<l;n++)a[n].onclick=get}},error:function(t){console.log(t)}})}function del(){var t=this;$.ajax({url:"/admin/del/"+this.getAttribute("blog-del"),type:"POST",dataType:"JSON",data:{},success:function(e){var o=t.parentNode.parentNode;o.parentNode.removeChild(o)},error:function(t){console.log(t)}})}function get(){window.location.href="/admin/mod/"+this.getAttribute("blog-put")}function put(){var t={id:state.id,content:editor.getMarkdown()};$.ajax({url:"/artical/put",type:"POST",dataType:"JSON",data:t,success:function(t){"000000"==t.code&&(console.log(t),editor.rem(),window.location.href="#/blog")},error:function(t){console.log(t)}})}getBlogList();